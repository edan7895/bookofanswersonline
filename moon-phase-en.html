<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Today's Moon Phase, Illumination & Spiritual Meaning | The Book of Answers Online</title>

<meta name="description" content="Explore today’s moon phase, illumination, and deep spiritual meaning. Learn how lunar energy affects emotions, intuition, and manifestation. Align with the moon’s rhythm for balance and clarity.">

<meta name="keywords" content="moon phase today, current moon, lunar calendar, moon illumination, spiritual meaning of the moon, full moon energy, new moon intention, moon ritual guide, astrology moon cycle, moon spirituality, moon meditation, emotional healing, cosmic alignment, lunar wisdom, moon magic">

<meta property="og:title" content="Today's Moon Phase & Spiritual Meaning | The Book of Answers Online">
<meta property="og:description" content="Discover today’s moon phase and its deeper spiritual meaning. Connect with lunar energy to enhance mindfulness, intuition, and emotional balance.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://bookofanswersonline.com/moon-phase-en.html">
<meta property="og:image" content="https://bookofanswersonline.com/moon-phase.jpg">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Today's Moon Phase, Illumination & Spiritual Meaning">
<meta name="twitter:description" content="Explore today’s moon phase and illumination. Discover how lunar cycles influence your emotions, spiritual growth, and inner peace.">
<meta name="twitter:image" content="https://bookofanswersonline.com/moon-phase.jpg">

  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    :root {
      --primary-color: #5d4e75;
      --secondary-color: #9c89b8;
      --accent-color: #f0a6ca;
      --light-color: #f8f5ff;
      --text-color: #333;
      --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      --gradient: linear-gradient(135deg, #9c89b8 0%, #f0a6ca 100%);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      background: linear-gradient(135deg, #f8f5ff 0%, #e6e0ff 100%);
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    header {
      background: var(--primary-color);
      color: var(--light-color);
      padding: 1.2rem;
      text-align: center;
      box-shadow: var(--shadow);
      position: relative;
    }
    
    h1 {
      font-size: 2.2rem;
      margin-bottom: 0.5rem;
      letter-spacing: 1px;
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .logo i {
      font-size: 2rem;
      color: var(--accent-color);
    }
    
    nav {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }
    
    .nav-links {
      display: flex;
      gap: 1.5rem;
    }
    
    nav a {
      color: var(--light-color);
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      transition: all 0.3s;
      font-weight: 500;
    }
    
    nav a:hover {
      background: rgba(255, 255, 255, 0.15);
      transform: translateY(-2px);
    }
    
    nav a.active {
      background: rgba(255, 255, 255, 0.2);
    }
    
    .language-selector {
      position: relative;
    }
    
    .language-dropdown {
      background: var(--light-color);
      color: var(--primary-color);
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 500;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      appearance: none;
      padding-right: 2rem;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%235d4e75' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.7rem top 50%;
      background-size: 16px 12px;
    }
    
    .hamburger {
      display: none;
      background: none;
      border: none;
      color: var(--light-color);
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    .mobile-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      background: var(--primary-color);
      flex-direction: column;
      padding: 1rem;
      box-shadow: 0 5px 10px rgba(0,0,0,0.2);
      z-index: 1000;
    }
    
    .mobile-menu.active {
      display: flex;
    }
    
    .mobile-menu a {
      color: var(--light-color);
      text-decoration: none;
      padding: 0.8rem 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .mobile-menu a:last-child {
      border-bottom: none;
    }
    
    main {
      max-width: 900px;
      margin: 2rem auto;
      background: white;
      padding: 2.5rem;
      border-radius: 16px;
      box-shadow: var(--shadow);
      flex: 1;
    }
    
    h2 {
      color: var(--primary-color);
      margin-bottom: 1.5rem;
      font-size: 1.8rem;
      position: relative;
      padding-bottom: 0.5rem;
    }
    
    h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 3px;
      background: var(--gradient);
      border-radius: 3px;
    }
    
    p {
      margin-bottom: 1.2rem;
    }
    
    /* Moon Phase Styles */
    .moon-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 2rem auto;
      max-width: 600px;
    }
    
    .date-display {
      font-size: 1.2rem;
      color: var(--primary-color);
      margin-bottom: 1.5rem;
      font-weight: 600;
    }
    
    .moon-card {
      width: 100%;
      background: linear-gradient(135deg, #fff 0%, #f8f5ff 100%);
      border-radius: 16px;
      padding: 2rem;
      box-shadow: var(--shadow);
      text-align: center;
      margin-bottom: 2rem;
      border: 2px solid var(--secondary-color);
      position: relative;
      overflow: hidden;
    }
    
    .moon-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: var(--gradient);
    }
    
    .moon-visualization {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 1.5rem 0;
    }
    
    .moon-canvas-container {
      position: relative;
      margin: 1rem 0;
    }
    
    #moonCanvas {
      border-radius: 50%;
      box-shadow: 
        0 0 20px rgba(156, 137, 184, 0.3),
        0 0 40px rgba(156, 137, 184, 0.2),
        inset 0 0 20px rgba(0, 0, 0, 0.1);
      background: radial-gradient(circle at 30% 30%, #f8f5ff, #9c89b8);
      transition: all 0.5s ease;
    }
    
    .moon-info {
      font-size: 1.2rem;
      margin: 1rem 0;
      color: var(--secondary-color);
    }
    
    .moon-details {
      display: flex;
      justify-content: space-around;
      width: 100%;
      margin-top: 1.5rem;
      flex-wrap: wrap;
    }
    
    .moon-detail {
      text-align: center;
      padding: 1rem;
      flex: 1;
      min-width: 150px;
    }
    
    .moon-detail i {
      font-size: 1.5rem;
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }
    
    .moon-detail p {
      margin: 0;
      font-size: 0.9rem;
    }
    
    .moon-detail .value {
      font-size: 1.2rem;
      font-weight: bold;
      color: var(--primary-color);
      margin-top: 0.5rem;
    }
    
    .energy-tip {
      font-size: 1.1em;
      margin-top: 25px;
      color: var(--accent-color);
      font-style: italic;
      padding: 1rem;
      background: rgba(240, 166, 202, 0.1);
      border-radius: 8px;
      border-left: 4px solid var(--accent-color);
    }
    
    .update-info {
      font-size: 0.9rem;
      color: #666;
      margin-top: 1rem;
      text-align: center;
    }
    
    .moon-article {
      margin-top: 3rem;
      text-align: left;
    }
    
    .moon-article h3 {
      color: var(--primary-color);
      margin-bottom: 1rem;
      font-size: 1.5rem;
    }
    
    .moon-article p {
      line-height: 1.7;
      margin-bottom: 1.5rem;
    }
    
    .features {
      display: flex;
      justify-content: space-around;
      margin-top: 3rem;
      flex-wrap: wrap;
      gap: 1.5rem;
    }
    
    .feature {
      text-align: center;
      flex: 1;
      min-width: 200px;
      padding: 1.5rem;
      border-radius: 10px;
      background: var(--light-color);
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
    }
    
    .feature i {
      font-size: 2.5rem;
      color: var(--secondary-color);
      margin-bottom: 1rem;
    }
    
    footer {
      text-align: center;
      padding: 1.5rem;
      background: var(--primary-color);
      color: var(--light-color);
      margin-top: auto;
    }
    
    @media (max-width: 768px) {
      h1 {
        font-size: 1.8rem;
      }
      
      .header-content {
        flex-wrap: wrap;
      }
      
      .nav-links {
        display: none;
      }
      
      .hamburger {
        display: block;
      }
      
      main {
        margin: 1rem;
        padding: 1.5rem;
      }
      
      .features {
        flex-direction: column;
      }
      
      .moon-card {
        padding: 1.5rem;
      }
      
      .moon-details {
        flex-direction: column;
        align-items: center;
      }
      
      .moon-detail {
        margin-bottom: 1rem;
      }
    }

.share-section {
  text-align: center;
  margin: 20px 0;
}
.share-section p {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 8px;
}
.share-section a {
  display: inline-block;
  margin: 0 6px;
  transition: transform 0.2s ease;
}
.share-section a:hover {
  transform: scale(1.15);
}
    
    @media (max-width: 480px) {
      h1 {
        font-size: 1.6rem;
      }
      
      #moonCanvas {
        width: 200px;
        height: 200px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo">
        <i class="fas fa-book-open"></i>
        <h1>Book of Answers Online</h1>
      </div>
      
      <nav>
        <div class="nav-links">
          <a href="index-en.html">Home</a>
          <a href="inspiration-en.html">Daily Inspiration</a>
          <a href="horoscope-en.html">Daily Horoscope</a>
          <a href="moon-phase-en.html">Moon Phase</a>
          <a href="articles-en.html" class="active">Spiritual Articles</a>
          <a href="how-it-work-en.html">How It Work</a>
          <a href="about-en.html">About Us</a>
          <a href="contact-en.html">Contact Us</a>
        </div>
        
        <div class="language-selector" style="display: none;">
          <select class="language-dropdown" id="language-select">
            <option value="index-en.html">English</option>
            <option value="index-zh.html">中文</option>
            <option value="index-es.html">Español</option>
            <option value="index-de.html">Deutsch</option>
            <option value="index-fr.html">Français</option>
          </select>
        </div>
        
        <button class="hamburger" id="hamburger">
          <i class="fas fa-bars"></i>
        </button>
      </nav>
    </div>
    
    <div class="mobile-menu" id="mobile-menu">
          <a href="index-en.html">Home</a>
          <a href="inspiration-en.html">Daily Inspiration</a>
          <a href="horoscope-en.html">Daily Horoscope</a>
          <a href="moon-phase-en.html">Moon Phase</a>
          <a href="articles-en.html" class="active">Spiritual Articles</a>
          <a href="how-it-work-en.html">How It Work</a>
          <a href="about-en.html">About Us</a>
          <a href="contact-en.html">Contact Us</a>
    </div>
  </header>

  <main>
<h2>Today's Moon Phase</h2>
<p>
  Explore the moon’s current phase and illumination, and uncover its deeper spiritual meaning. 
  The moon’s gentle rhythm reminds us to slow down, reflect, and stay in harmony with the universe. 
  Learn how each lunar phase subtly influences emotions, intuition, and the flow of daily life.
</p>


    <div class="moon-container">
      <div class="date-display" id="date"></div>
      
      <div class="moon-card">
        <div class="moon-visualization">
          <div class="moon-canvas-container">
            <canvas id="moonCanvas" width="300" height="300"></canvas>
          </div>
          
          <div class="moon-info" id="moon-info">Loading moon phase...</div>
          <div class="energy-tip" id="energy"></div>
        </div>
        
        <div class="moon-details">
          <div class="moon-detail">
            <i class="fas fa-sun"></i>
            <p>Illumination</p>
            <div class="value" id="illumination">0%</div>
          </div>
          <div class="moon-detail">
            <i class="fas fa-calendar-alt"></i>
            <p>Next Full Moon</p>
            <div class="value" id="next-full">Calculating...</div>
          </div>
          <div class="moon-detail">
            <i class="fas fa-clock"></i>
            <p>Cycle Day</p>
            <div class="value" id="cycle-day">0</div>
          </div>
        </div>
        
        <div class="update-info" id="last-updated"></div>
      </div>
    </div>

    <div class="moon-article">
<h3>The Moon’s Mystical Influence on Human Life</h3>
<p>
Since the earliest days of civilization, the moon has fascinated humankind, shaping our sense of time, guiding agricultural cycles, and inspiring myths and spiritual beliefs. As Earth's closest celestial neighbor, the moon’s gravitational pull moves the tides—but many believe its subtle energy also affects our emotions, dreams, and spiritual states. Across cultures and generations, the moon has been seen as a symbol of rhythm, intuition, and renewal.
</p>

<p>
The moon completes its orbit around Earth approximately every 29.5 days, forming the lunar cycle that influences both nature and human consciousness. Each phase of this cycle—from the quiet new moon to the radiant full moon—carries its own energetic meaning. Ancient farmers planted and harvested by the moon’s timing, while modern seekers align meditation, manifestation, and self-reflection with lunar phases to stay in harmony with cosmic flow.
</p>

<p>
The <strong>new moon</strong> symbolizes beginnings and intention-setting—a time to plant seeds for the future. As the moon <strong>waxes</strong>, energy builds, encouraging growth, creativity, and progress. The <strong>first quarter</strong> challenges us to take action and overcome resistance, while the <strong>waxing gibbous</strong> phase helps refine and perfect our plans. The <strong>full moon</strong> marks illumination and completion, bringing awareness and heightened emotion. As the light begins to fade, the <strong>waning moon</strong> guides us toward release, forgiveness, and inner rest before the next cycle begins.
</p>

<p>
Spiritually, the moon mirrors our inner world—the subconscious mind, intuition, and emotional tides. It is often associated with divine feminine energy: receptive, nurturing, and deeply connected to the cycles of life and nature. Working consciously with lunar energy can help us tune into natural rhythms, cultivate mindfulness, and restore emotional balance. Many find that aligning their goals with the moon’s rhythm enhances clarity, creativity, and a sense of cosmic timing.
</p>

<p>
In today’s fast-paced, technology-driven world, the wisdom of the moon invites us to slow down and reconnect with the natural order of things. Observing <strong>today’s moon phase</strong>—whether it’s waxing, full, or waning—can help us plan our days more intentionally. Start new ventures during the waxing moon, celebrate achievements under the full moon, and practice gratitude and release during the waning period. By living in sync with lunar cycles, we rediscover a deep sense of balance and spiritual harmony that modern life often obscures.
</p>

<p>
Tonight, as you gaze upon the moon, take a moment to breathe and reflect. What phase of life are you in? What are you ready to create—or let go of? The moon has always whispered guidance to those who listen. Let its ancient light remind you that, like the moon, you too are constantly growing, transforming, and renewing.
</p>

<!-- 🔒 Hidden Semantic SEO Section -->
<div style="display:none;">
  <p>
    Keywords related to this page include: moon phase today, lunar calendar, moon meaning, full moon energy, new moon intentions, moon cycle spirituality, astrology moon guide, emotional effects of moon, lunar wisdom, celestial rhythms, waxing and waning moon, moon astrology chart, lunar influence on human behavior, spiritual moon guide, moon energy meaning, daily moon forecast, and moon rituals for manifestation.
  </p>
  <p>
    The Book of Answers Online offers insights into daily moon phases, zodiac signs, spiritual reflections, and mindful guidance. Whether you are seeking cosmic wisdom, emotional healing, or self-discovery, the moon’s rhythm provides timeless lessons in balance, renewal, and awareness.
  </p>
</div>

    </div>

    <div class="features">
      <div class="feature">
        <i class="fas fa-seedling"></i>
        <h3>Lunar Gardening</h3>
        <p>Plan your planting and harvesting with moon phases</p>
      </div>
      <div class="feature">
        <i class="fas fa-brain"></i>
        <h3>Mindful Reflection</h3>
        <p>Use moon cycles for personal growth and introspection</p>
      </div>
      <div class="feature">
        <i class="fas fa-cloud-moon"></i>
        <h3>Spiritual Practice</h3>
        <p>Align your rituals and meditations with lunar energy</p>
      </div>
    </div>
<hr>
<div class="share-section">
  <p>Share Moon Phase:</p>
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://bookofanswersonline.com/moon-phase-en.html" target="_blank" aria-label="Share on Facebook">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="#4267B2"><path d="M22.675 0h-21.35C.597 0 0 .597 0 1.325v21.351C0 23.403.597 24 1.325 24H12.82v-9.294H9.692V11.01h3.128V8.412c0-3.1 1.894-4.788 4.659-4.788 1.325 0 2.463.099 2.794.143v3.24l-1.918.001c-1.504 0-1.796.715-1.796 1.764v2.314h3.587l-.467 3.696h-3.12V24h6.116c.728 0 1.325-.597 1.325-1.324V1.325C24 .597 23.403 0 22.675 0z"/></svg>
  </a>

  <a href="https://twitter.com/intent/tweet?url=https://bookofanswersonline.com/moon-phase-en.html&text=Discover%20your%20daily%20horoscope!" target="_blank" aria-label="Share on Twitter">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="#1DA1F2"><path d="M24 4.557a9.93 9.93 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724c-.951.564-2.005.974-3.127 1.195a4.92 4.92 0 0 0-8.388 4.482A13.978 13.978 0 0 1 1.671 3.149 4.92 4.92 0 0 0 3.195 9.723a4.902 4.902 0 0 1-2.229-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.935 4.935 0 0 1-2.224.084 4.923 4.923 0 0 0 4.6 3.417A9.867 9.867 0 0 1 0 19.54a13.945 13.945 0 0 0 7.548 2.212c9.057 0 14.01-7.513 14.01-14.01 0-.213-.005-.425-.014-.636A10.012 10.012 0 0 0 24 4.557z"/></svg>
  </a>

  <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://bookofanswersonline.com/moon-phase-en.html" target="_blank" aria-label="Share on LinkedIn">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="#0A66C2"><path d="M4.983 3.5C4.983 5.07 3.74 6.312 2.17 6.312 0.6 6.312-.643 5.07-.643 3.5c0-1.57 1.243-2.813 2.813-2.813 1.57 0 2.813 1.243 2.813 2.813zm.037 4.5H1.07V24h3.95V8zM8.89 8h3.785v2.198h.054c.527-1 1.817-2.054 3.74-2.054 3.995 0 4.73 2.63 4.73 6.05V24h-3.948v-7.72c0-1.84-.033-4.206-2.56-4.206-2.56 0-2.953 2-2.953 4.07V24H8.89V8z"/></svg>
  </a>

  <a href="https://pinterest.com/pin/create/button/?url=https://bookofanswersonline.com/moon-phase-en.html" target="_blank" aria-label="Share on Pinterest">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="#E60023"><path d="M12 0C5.372 0 0 5.373 0 12c0 4.992 3.657 9.155 8.438 10.481-.117-.889-.223-2.256.046-3.229.244-.838 1.57-5.337 1.57-5.337s-.4-.801-.4-1.983c0-1.86 1.078-3.249 2.422-3.249 1.143 0 1.693.858 1.693 1.886 0 1.149-.731 2.869-1.107 4.468-.317 1.341.67 2.434 1.987 2.434 2.385 0 4.213-2.515 4.213-6.139 0-3.207-2.31-5.455-5.61-5.455-3.821 0-6.064 2.869-6.064 5.832 0 1.148.444 2.381.998 3.047a.403.403 0 0 1 .092.384c-.1.423-.322 1.341-.366 1.528-.058.243-.19.295-.437.179-1.624-.756-2.64-3.129-2.64-5.038 0-4.101 2.983-7.863 8.607-7.863 4.518 0 8.04 3.221 8.04 7.526 0 4.493-2.835 8.114-6.773 8.114-1.322 0-2.566-.688-2.992-1.505l-.812 3.09c-.293 1.107-1.09 2.494-1.626 3.34A12.007 12.007 0 0 0 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0z"/></svg>
  </a>
</div>
  </main>

  <footer>
    &copy; 2025 Book of Answers Online | All Rights Reserved | <a href="privacy-en.html" style="color: var(--light-color);">Privacy Policy</a> | <a href="terms-en.html" style="color: var(--light-color);">Terms of Service</a>
  </footer>

  <script>
    // 获取今天的日期
    const today = new Date();
    document.getElementById("date").innerText = today.toDateString();
    
    // 设置最后更新日期
    document.getElementById("last-updated").innerText = `Last Updated: ${today.toDateString()}`;

    // 使用原代码中的月相计算算法
    function getMoonPhase(date) {
      const lp = 2551443; // 月球周期（秒）
      const new_moon = new Date(1970, 0, 7, 20, 35, 0); // 参考新月
      const phase_time = (date.getTime() - new_moon.getTime()) / 1000 % lp;
      const phase = Math.floor((phase_time / lp) * 8 + 0.5) % 8;
      return phase;
    }

    // 计算照明百分比
    function getIllumination(phaseIndex) {
      // 基于月相的照明计算
      const illuminations = [0, 25, 50, 75, 100, 75, 50, 25];
      return illuminations[phaseIndex];
    }

    // 修复下一个满月计算
    function getNextFullMoon(date) {
      const lp = 2551443; // 月球周期（秒）
      const new_moon = new Date(1970, 0, 7, 20, 35, 0); // 参考新月
      
      // 计算当前时间与参考新月的时间差
      const timeSinceNewMoon = (date.getTime() - new_moon.getTime()) / 1000;
      
      // 计算当前周期位置
      const currentCyclePosition = timeSinceNewMoon % lp;
      
      // 满月发生在周期的一半位置
      const fullMoonPosition = lp / 2;
      
      // 计算到下一个满月的时间
      let timeToNextFullMoon;
      if (currentCyclePosition < fullMoonPosition) {
        // 如果当前在满月之前
        timeToNextFullMoon = fullMoonPosition - currentCyclePosition;
      } else {
        // 如果当前在满月之后，需要等到下一个周期
        timeToNextFullMoon = lp - currentCyclePosition + fullMoonPosition;
      }
      
      // 计算下一个满月的日期
      const nextFullMoonTime = date.getTime() + timeToNextFullMoon * 1000;
      return new Date(nextFullMoonTime);
    }

    // 计算周期天数（1-29）
    function getCycleDay(date) {
      const lp = 2551443; // 月球周期（秒）
      const new_moon = new Date(1970, 0, 7, 20, 35, 0); // 参考新月
      const phase_time = (date.getTime() - new_moon.getTime()) / 1000 % lp;
      
      // 计算当前周期天数
      const cycleDay = Math.floor((phase_time / lp) * 29.530588) + 1;
      
      return cycleDay;
    }

    // 计算今天的月相
    const phaseIndex = getMoonPhase(today);
    const phases = [
      "New Moon", "Waxing Crescent", "First Quarter", "Waxing Gibbous",
      "Full Moon", "Waning Gibbous", "Last Quarter", "Waning Crescent"
    ];
    const phase = phases[phaseIndex];

    // 计算照明百分比
    const illuminationPercent = getIllumination(phaseIndex);
    document.getElementById("illumination").innerText = `${illuminationPercent}%`;
    
    // 计算周期天数（1-29）
    const cycleDay = getCycleDay(today);
    document.getElementById("cycle-day").innerText = cycleDay;
    
    // 计算下一个满月
    const nextFullMoon = getNextFullMoon(today);
    document.getElementById("next-full").innerText = nextFullMoon.toDateString();

    document.getElementById("moon-info").innerHTML = `<strong>Phase:</strong> ${phase}`;

    // 灵性提示 - 为每个月相提供多个提示
    const energyTips = {
      "New Moon": [
        "A time for new beginnings. Set your intentions today. Perfect for planning, meditation, and planting seeds for future growth.",
        "Embrace the darkness of the new moon. It's a perfect time to go inward and connect with your deepest desires.",
        "The new moon brings a clean slate. What new paths will you explore in this lunar cycle?"
      ],
      "Waxing Crescent": [
        "Focus on growth and take small steps toward your goals. Build momentum and gather resources for your projects.",
        "The energy is building. Plant the seeds of your intentions and nurture them with consistent action.",
        "This is a time of potential. What small actions can you take today to move closer to your dreams?"
      ],
      "First Quarter": [
        "Challenges arise — stay confident and keep pushing forward. This is a time for action and decision-making.",
        "The first quarter tests your commitment. Stay focused on your goals despite any obstacles.",
        "Take decisive action today. The universe supports those who move forward with conviction."
      ],
      "Waxing Gibbous": [
        "Refine your plans and prepare for results. Pay attention to details and make necessary adjustments.",
        "The energy is building toward completion. Fine-tune your projects and prepare for manifestation.",
        "Stay focused on your goals. The waxing gibbous phase supports bringing your plans to fruition."
      ],
      "Full Moon": [
        "Emotions peak — reflect, release, and celebrate your progress. A powerful time for completion and illumination.",
        "The full moon illuminates what needs to be seen. Celebrate your achievements and release what no longer serves you.",
        "Harvest the energy of the full moon. What in your life has come to completion? What can you release?"
      ],
      "Waning Gibbous": [
        "Share your wisdom and express gratitude. Focus on giving back and helping others.",
        "The waning gibbous invites you to share what you've learned. Your experiences can inspire others.",
        "Practice gratitude today. Acknowledge the blessings in your life and consider how you can give back."
      ],
      "Last Quarter": [
        "Let go of what no longer serves you. Release old patterns and forgive past mistakes.",
        "The last quarter asks you to release and forgive. What burdens can you set down today?",
        "This is a time of completion and release. What can you let go of to make space for new possibilities?"
      ],
      "Waning Crescent": [
        "Rest and recharge for the next lunar cycle. Prepare for the new beginnings that await.",
        "The waning crescent invites deep rest. Honor your need for stillness before the new cycle begins.",
        "Prepare for renewal. Use this time to reflect, rest, and gather energy for the new moon ahead."
      ]
    };
    
    // 为每个用户每天选择不同的提示（基于日期）
    function getDailyTip(phase) {
      const tips = energyTips[phase];
      // 使用日期作为随机种子，确保每个用户每天看到相同的提示
      const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (24 * 60 * 60 * 1000));
      const tipIndex = dayOfYear % tips.length;
      return tips[tipIndex];
    }
    
    document.getElementById("energy").innerText = getDailyTip(phase);

    // 绘制月相图（使用Canvas）- 使用原代码的绘制方法
    const ctx = document.getElementById("moonCanvas").getContext("2d");
    const centerX = 150;
    const centerY = 150;
    const radius = 120;
    
    // 绘制月亮
    function drawMoon() {
      // 清除画布
      ctx.clearRect(0, 0, 300, 300);
      
      // 绘制满月基础
      const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);
      gradient.addColorStop(0, '#f8f5ff');
      gradient.addColorStop(0.7, '#9c89b8');
      gradient.addColorStop(1, '#5d4e75');
      
      ctx.beginPath();
      ctx.arc(centerX, centerY, radius, 0, Math.PI * 2, false);
      ctx.fillStyle = gradient;
      ctx.fill();
      
      // 使用原代码的阴影绘制方法
      const illumination = (phaseIndex / 8);
      ctx.globalCompositeOperation = "destination-out";
      ctx.beginPath();
      ctx.arc(centerX + radius * Math.cos(illumination * Math.PI * 2), centerY, radius, 0, Math.PI * 2, false);
      ctx.fill();
      
      // 重置合成操作
      ctx.globalCompositeOperation = "source-over";
      
      // 添加发光效果
      ctx.beginPath();
      ctx.arc(centerX, centerY, radius + 5, 0, Math.PI * 2, false);
      ctx.strokeStyle = 'rgba(156, 137, 184, 0.3)';
      ctx.lineWidth = 10;
      ctx.stroke();
    }

    // 初始化
    drawMoon();

    // 移动菜单切换
    document.getElementById('hamburger').addEventListener('click', function() {
      document.getElementById('mobile-menu').classList.toggle('active');
    });

    // 语言选择器功能
    const languageSelect = document.getElementById('language-select');
    if (languageSelect) {
      languageSelect.addEventListener('change', function() {
        window.location.href = this.value;
      });
    }
  </script>
</body>
</html>